# Generated by Django 5.2.4 on 2025-08-04 18:01

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = []

    operations = [
        migrations.CreateModel(
            name="MatchingRequests",
            fields=[
                ("id", models.AutoField(primary_key=True, serialize=False)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "related_datasets",
                    models.JSONField(
                        help_text="JSON object with all datasets including related queries and relationships"
                    ),
                ),
                (
                    "related_datastores",
                    models.JSONField(
                        help_text="JSON object with all related datastores"
                    ),
                ),
                (
                    "system_prompt",
                    models.TextField(
                        default="You are an expert database architect with deep knowledge of different database systems, their strengths, limitations, and optimal use cases. Analyze the provided datasets and datastores to make informed recommendations.",
                        help_text="The system prompt used for the LLM",
                    ),
                ),
                (
                    "prompt",
                    models.TextField(
                        default="Based on the dataset characteristics (structure, size, growth rate, access patterns, query complexity) and available datastores (type, system, performance, capacity), recommend the optimal datastore for each dataset. Provide clear reasoning and confidence scores.",
                        help_text="The user prompt used for the request",
                    ),
                ),
                (
                    "requested_model",
                    models.CharField(
                        default="llama3.1:8b",
                        help_text="The Ollama model used for processing",
                        max_length=100,
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True,
                        help_text="Optional description of the matching request",
                    ),
                ),
            ],
            options={
                "verbose_name": "AI Matching Request",
                "verbose_name_plural": "AI Matching Requests",
                "db_table": "ai_matching_requests",
                "ordering": ["-created_at"],
            },
        ),
    ]
